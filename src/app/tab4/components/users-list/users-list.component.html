<div class="ion-page">
  <ion-header translucent>
    <ion-toolbar>
      <ion-title>Find a friend</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="this.dismiss()">Close</ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content *ngIf='this.getAll; else elseBlock'>
    <ion-list>
      <ion-item-sliding *ngFor='let user of this.users'>
        <ion-item>
          <ion-avatar slot="start">
            <img *ngIf="user._sex === 'F'; else elseMale" src="../../../../assets/beautiful.jpg" alt="user-icon">
            <ng-template #elseMale>
              <img src="../../../../assets/stark.jpg" alt="user-icon">
            </ng-template>
          </ion-avatar>
          <ion-label>{{user._user_name}}</ion-label>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option *ngIf="!removeJustFollowed(user._id); else elseBlock"
                           (click)="this.addFriend(user._id, user._user_name)"
                           color="primary">Add
          </ion-item-option>
          <ng-template #elseBlock>
            <ion-item-option color="success">Just friend</ion-item-option>
          </ng-template>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </ion-content>

  <ng-template #elseBlock>
    <ion-item>
      <ion-label>
        Error loading users, please wait or reload this page
      </ion-label>
    </ion-item>
  </ng-template>
</div>
